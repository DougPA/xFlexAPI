//
//  LogEntry.swift
//  xFlexAPI
//
//  Created by Douglas Adams on 5/23/15.
//

import Foundation

// ----------------------------------------------------------------------------
// MARK: - Log Entry class
// ----------------------------------------------------------------------------

public final class LogEntry {
    
    // ----------------------------------------------------------------------------
    // MARK: - Public Properties
    
    public private(set) var message: String
    public private(set) var level: MessageLevel
    public private(set) var source: String
    
    public let timeStamp = Date().currentTimeZoneDate()
    public var levelName: String { return level.name }
    public var color : NSColor { return level.color }
    
    // ----------------------------------------------------------------------------
    // MARK: - Initialization
    
    public init(message: String, level: MessageLevel, source: String) {
        
        self.message = message
        self.level = level
        self.source = source
    }
    
    // ----------------------------------------------------------------------------
    // MARK: - Public methods
    
    /// Return a description of the Log Entry
    ///
    /// - returns: a String
    ///
    public func description() -> String {
        
        return "\(timeStamp), " + message + ", \(level.name) ," + source
    }
    /// Return a String value given a property name
    ///
    /// - parameter id: a property name
    ///
    /// - returns: the value of the property as a String
    ///
    public func valueForId(_ id: String) -> String? {
        switch id {
        
        case "message":
            return message
        
        case "levelName":
            return levelName
        
        case "source":
            return source
        
        case "timeStamp":
            return timeStamp
        
        default:
            return "Unknown"
        }
    }
    
}


